import{d as O,g as V,i as P,r as T,o as r,c as d,a as t,t as a,b as x,w as $,F as N,v as F,m as D,n as I,f as C,l as E}from"./index-f4655909.js";const M={class:"flex flex-col gap-4 rounded-3xl bg-ice p-8 transition-background dark:bg-charcoal xl:p-12"},j={class:"text-2xl font-bold text-charcoal transition-font dark:text-ice"},z={class:"flex flex-wrap gap-2"},G={key:0,class:"flex items-center gap-2 rounded-3xl bg-ice p-6 transition-background dark:bg-charcoal"},q=t("p",{class:"text-sm text-charcoal transition-font dark:text-ice"},"DISCLAIMER: Please note that the amounts are rounded to the nearest cent and therefore cannot always be split perfectly.",-1),H={class:"text-2xl font-bold text-charcoal transition-font dark:text-ice"},J=t("thead",null,[t("tr",null,[t("th",{class:"text-start font-bold text-charcoal transition-font dark:text-ice"},"Guest"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Subtotal"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Tax"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Tip"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Total")])],-1),K={class:"relative"},Q={class:"text-start text-gunmetal transition-font dark:text-silver"},U={class:"text-end text-gunmetal transition-font dark:text-silver"},W={class:"text-end text-gunmetal transition-font dark:text-silver"},X={class:"text-end text-gunmetal transition-font dark:text-silver"},Y={class:"text-end text-gunmetal transition-font dark:text-silver"},Z={class:"relative"},tt=t("td",{class:"text-start text-charcoal transition-font dark:text-ice"},"TOTAL",-1),et={class:"text-end text-charcoal transition-font dark:text-ice"},at={class:"text-end text-charcoal transition-font dark:text-ice"},ot={class:"text-end text-charcoal transition-font dark:text-ice"},lt={class:"text-end text-blue"},st={class:"text-2xl font-bold text-charcoal transition-font dark:text-ice"},nt=t("thead",null,[t("tr",null,[t("th",{class:"text-start font-bold text-charcoal transition-font dark:text-ice"},"Item"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Subtotal"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Tax"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Tip"),t("th",{class:"text-end font-bold text-charcoal transition-font dark:text-ice"},"Total")])],-1),ct={class:"relative"},rt={class:"text-start text-gunmetal transition-font dark:text-silver"},it={class:"text-end text-gunmetal transition-font dark:text-silver"},dt={class:"text-end text-gunmetal transition-font dark:text-silver"},xt={class:"text-end text-gunmetal transition-font dark:text-silver"},ut={class:"text-end text-gunmetal transition-font dark:text-silver"},ht={class:"relative"},ft=t("td",{class:"text-start text-charcoal transition-font dark:text-ice"},"TOTAL",-1),_t={class:"text-end text-charcoal transition-font dark:text-ice"},bt={class:"text-end text-charcoal transition-font dark:text-ice"},vt={class:"text-end text-charcoal transition-font dark:text-ice"},kt={class:"text-end text-blue"},pt=O({__name:"Results",props:{event:String,party:Array,check:Object,food:Array},setup(n){const c=n,e=V({}),h=V("results");P(()=>{if(c.event&&c.party&&c.check&&c.food){let y=Number(c.check.tax)/Number(c.check.subtotal),_=Number(c.check.tip)/Number(c.check.subtotal);for(let l of c.party)e.value[l]={items:[],subtotal:"",tax:"",tip:"",total:""};for(let l of c.food){let i=Number(l.price)/l.guests.length,b=i*y,u=i*_,v=i+b+u;for(let s of l.guests)e.value[s].items.push({name:l.name,subtotal:i.toFixed(2),tax:b.toFixed(2),tip:u.toFixed(2),total:v.toFixed(2)}),e.value[s].subtotal=Number(e.value[s].subtotal)+i,e.value[s].tax=Number(e.value[s].tax)+b,e.value[s].tip=Number(e.value[s].tip)+u,e.value[s].total=Number(e.value[s].total)+v}for(let l in e.value)e.value[l].subtotal=Number(e.value[l].subtotal).toFixed(2),e.value[l].tax=Number(e.value[l].tax).toFixed(2),e.value[l].tip=Number(e.value[l].tip).toFixed(2),e.value[l].total=Number(e.value[l].total).toFixed(2)}});function w(y,_){_?h.value="":h.value=y}return(y,_)=>{var v,s,A,R,S;const l=T("md-divider"),i=T("md-icon"),b=T("md-filter-chip"),u=T("md-ripple");return r(),d(N,null,[t("div",M,[t("h1",j,a(n.event),1),x(l),t("div",z,[x(b,{label:"Results",selected:h.value==="results",onClick:_[0]||(_[0]=o=>w("results",o.target.selected))},{default:$(()=>[x(i,{slot:"icon"},{default:$(()=>[C("arrow_drop_down")]),_:1})]),_:1},8,["selected"]),(r(!0),d(N,null,F(n.party,o=>(r(),E(b,{label:o,selected:o===h.value,onClick:f=>w(o,f.target.selected)},{default:$(()=>[x(i,{slot:"icon"},{default:$(()=>[C("arrow_drop_down")]),_:1})]),_:2},1032,["label","selected","onClick"]))),256))])]),h.value!==""?(r(),d("div",G,[x(i,{class:"text-blue"},{default:$(()=>[C("error")]),_:1}),q])):D("",!0),t("div",{class:I(["flex flex-col gap-4 rounded-3xl bg-ice p-8 transition-background dark:bg-charcoal xl:p-12",{hidden:h.value!=="results"}])},[t("h1",H,"Results: $"+a((v=n.check)==null?void 0:v.total),1),t("table",null,[J,t("tbody",null,[(r(!0),d(N,null,F(n.party,o=>{var f,k,m,p;return r(),d("tr",K,[t("td",Q,a(o),1),t("td",U,"$"+a((f=e.value[o])==null?void 0:f.subtotal),1),t("td",W,"$"+a((k=e.value[o])==null?void 0:k.tax),1),t("td",X,"$"+a((m=e.value[o])==null?void 0:m.tip),1),t("td",Y,"$"+a((p=e.value[o])==null?void 0:p.total),1),x(u)])}),256)),t("tr",Z,[tt,t("td",et,"$"+a((s=n.check)==null?void 0:s.subtotal),1),t("td",at,"$"+a((A=n.check)==null?void 0:A.tax),1),t("td",ot,"$"+a((R=n.check)==null?void 0:R.tip),1),t("td",lt,"$"+a((S=n.check)==null?void 0:S.total),1),x(u)])])])],2),(r(!0),d(N,null,F(n.party,o=>{var f,k,m,p,B,L;return r(),d("div",{class:I(["flex flex-col gap-4 rounded-3xl bg-ice p-8 transition-background dark:bg-charcoal xl:p-12",{hidden:o!==h.value}])},[t("h1",st,a(o)+": $"+a((f=e.value[o])==null?void 0:f.total),1),t("table",null,[nt,t("tbody",null,[(r(!0),d(N,null,F((k=e.value[o])==null?void 0:k.items,g=>(r(),d("tr",ct,[t("td",rt,a(g.name),1),t("td",it,"$"+a(g.subtotal),1),t("td",dt,"$"+a(g.tax),1),t("td",xt,"$"+a(g.tip),1),t("td",ut,"$"+a(g.total),1),x(u)]))),256)),t("tr",ht,[ft,t("td",_t,"$"+a((m=e.value[o])==null?void 0:m.subtotal),1),t("td",bt,"$"+a((p=e.value[o])==null?void 0:p.tax),1),t("td",vt,"$"+a((B=e.value[o])==null?void 0:B.tip),1),t("td",kt,"$"+a((L=e.value[o])==null?void 0:L.total),1),x(u)])])])],2)}),256))],64)}}});export{pt as default};
