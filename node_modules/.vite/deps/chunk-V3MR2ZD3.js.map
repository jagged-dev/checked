{
  "version": 3,
  "sources": ["../../@material/web/menu/internal/shared.ts"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ListItem} from '../../list/internal/listitem/list-item.js';\n\n/**\n * Interface specific to menu item and not list item.\n */\ninterface MenuItemSelf {\n  /**\n   * The visible headline text of the item.\n   */\n  headline: string;\n  /**\n   * Whether or not the item is the currently active item of interest (focuses\n   * upon activation).\n   */\n  active: boolean;\n  /**\n   * Whether or not the item is in the selected visual state.\n   */\n  selected?: boolean;\n  /**\n   * If it is a sub-menu-item, a method that can close the submenu.\n   */\n  close?: () => void;\n  /**\n   * Focuses the item.\n   */\n  focus: () => void;\n}\n\n/**\n * The interface of every menu item interactive with a menu. All menu items\n * should implement this interface to be compatible with md-menu. Additionally\n * they should have both the `md-menu-item` and `md-list-item` attributes set.\n */\nexport type MenuItem = MenuItemSelf&ListItem;\n\n/**\n * The reason the `close-menu` event was dispatched.\n */\nexport interface Reason {\n  kind: string;\n}\n\n/**\n * The click selection reason for the `close-menu` event. The menu was closed\n * because an item was selected via user click.\n */\nexport interface ClickReason extends Reason {\n  kind: typeof CLOSE_REASON.CLICK_SELECTION;\n}\n\n/**\n * The keydown reason for the `close-menu` event. The menu was closed\n * because a specific key was pressed. The default closing keys for\n * `md-menu-item` are, Space, Enter or Escape.\n */\nexport interface KeydownReason extends Reason {\n  kind: typeof CLOSE_REASON.KEYDOWN;\n  key: string;\n}\n\n/**\n * The default menu closing reasons for the material md-menu package.\n */\nexport type DefaultReasons = ClickReason|KeydownReason;\n\n/**\n * The event that closes any parent menus. It is recommended to subclass and\n * dispatch this event rather than creating your own `close-menu` event.\n */\nexport class CloseMenuEvent<T extends Reason = DefaultReasons> extends Event {\n  readonly itemPath: MenuItem[];\n  constructor(public initiator: MenuItem, readonly reason: T) {\n    super('close-menu', {bubbles: true, composed: true});\n    this.itemPath = [initiator];\n  }\n}\n\n/**\n * The event that signals to the menu that it should stay open on the focusout\n * event.\n */\nexport class StayOpenOnFocusoutEvent extends Event {\n  constructor() {\n    super('stay-open-on-focusout', {bubbles: true, composed: true});\n  }\n}\n\n/**\n * The event that signals to the menu that it should close open on the focusout\n * event.\n */\nexport class CloseOnFocusoutEvent extends Event {\n  constructor() {\n    super('close-on-focusout', {bubbles: true, composed: true});\n  }\n}\n\n/**\n * The default close menu event used by md-menu. To create your own `close-menu`\n * event, you should subclass the `CloseMenuEvent` instead.\n */\n// tslint:disable-next-line\nexport const DefaultCloseMenuEvent = CloseMenuEvent<DefaultReasons>;\n\n/**\n * The event that requests the parent md-menu to deactivate all other items.\n */\nexport class DeactivateItemsEvent extends Event {\n  constructor() {\n    super('deactivate-items', {bubbles: true, composed: true});\n  }\n}\n\n/**\n * Requests the typeahead functionality of containing menu be deactivated.\n */\nexport class DeactivateTypeaheadEvent extends Event {\n  constructor() {\n    super('deactivate-typeahead', {bubbles: true, composed: true});\n  }\n}\n\n/**\n * Requests the typeahead functionality of containing menu be activated.\n */\nexport class ActivateTypeaheadEvent extends Event {\n  constructor() {\n    super('activate-typeahead', {bubbles: true, composed: true});\n  }\n}\n\n/**\n * Keys that are used to navigate menus.\n */\nexport const NAVIGABLE_KEY = {\n  UP: 'ArrowUp',\n  DOWN: 'ArrowDown',\n  RIGHT: 'ArrowRight',\n  LEFT: 'ArrowLeft',\n} as const;\n\n/**\n * Keys that are used for selection in menus.\n */\nexport const SELECTION_KEY = {\n  SPACE: 'Space',\n  ENTER: 'Enter',\n} as const;\n\n/**\n * Default close `Reason` kind values.\n */\nexport const CLOSE_REASON = {\n  CLICK_SELECTION: 'CLICK_SELECTION',\n  KEYDOWN: 'KEYDOWN',\n} as const;\n\n/**\n * Keys that can close menus.\n */\nexport const KEYDOWN_CLOSE_KEYS = {\n  ESCAPE: 'Escape',\n  SPACE: SELECTION_KEY.SPACE,\n  ENTER: SELECTION_KEY.ENTER,\n} as const;\n\ntype Values<T> = T[keyof T];\n\n/**\n * Determines whether the given key code is a key code that should close the\n * menu.\n *\n * @param code The KeyboardEvent code to check.\n * @return Whether or not the key code is in the predetermined list to close the\n * menu.\n */\nexport function isClosableKey(code: string):\n    code is Values<typeof KEYDOWN_CLOSE_KEYS> {\n  return Object.values(KEYDOWN_CLOSE_KEYS).some(value => (value === code));\n}\n\n/**\n * Determines whether the given key code is a key code that should select a menu\n * item.\n *\n * @param code They KeyboardEvent code to check.\n * @return Whether or not the key code is in the predetermined list to select a\n * menu item.\n */\nexport function isSelectableKey(code: string):\n    code is Values<typeof SELECTION_KEY> {\n  return Object.values(SELECTION_KEY).some(value => (value === code));\n}\n\n/**\n * Determines whether a target element is contained inside another element's\n * composed tree.\n *\n * @param target The potential contained element.\n * @param container The potential containing element of the target.\n * @returns Whether the target element is contained inside the container's\n * composed subtree\n */\nexport function isElementInSubtree(\n    target: EventTarget, container: EventTarget) {\n  // Dispatch a composed, bubbling event to check its path to see if the\n  // newly-focused element is contained in container's subtree\n  const focusEv = new Event('md-contains', {bubbles: true, composed: true});\n  let composedPath: EventTarget[] = [];\n  const listener = (ev: Event) => {\n    composedPath = ev.composedPath();\n  };\n\n  container.addEventListener('md-contains', listener);\n  target.dispatchEvent(focusEv);\n  container.removeEventListener('md-contains', listener);\n\n  const isContained = composedPath.length > 0;\n  return isContained;\n}\n"],
  "mappings": ";AA4EM,IAAO,iBAAP,cAAiE,MAAK;EAE1E,YAAmB,WAA8B,QAAS;AACxD,UAAM,cAAc,EAAC,SAAS,MAAM,UAAU,KAAI,CAAC;AADlC,SAAA,YAAA;AAA8B,SAAA,SAAA;AAE/C,SAAK,WAAW,CAAC,SAAS;EAC5B;;AAOI,IAAO,0BAAP,cAAuC,MAAK;EAChD,cAAA;AACE,UAAM,yBAAyB,EAAC,SAAS,MAAM,UAAU,KAAI,CAAC;EAChE;;AAOI,IAAO,uBAAP,cAAoC,MAAK;EAC7C,cAAA;AACE,UAAM,qBAAqB,EAAC,SAAS,MAAM,UAAU,KAAI,CAAC;EAC5D;;AAQK,IAAM,wBAAwB;AAK/B,IAAO,uBAAP,cAAoC,MAAK;EAC7C,cAAA;AACE,UAAM,oBAAoB,EAAC,SAAS,MAAM,UAAU,KAAI,CAAC;EAC3D;;AAMI,IAAO,2BAAP,cAAwC,MAAK;EACjD,cAAA;AACE,UAAM,wBAAwB,EAAC,SAAS,MAAM,UAAU,KAAI,CAAC;EAC/D;;AAMI,IAAO,yBAAP,cAAsC,MAAK;EAC/C,cAAA;AACE,UAAM,sBAAsB,EAAC,SAAS,MAAM,UAAU,KAAI,CAAC;EAC7D;;AAMK,IAAM,gBAAgB;EAC3B,IAAI;EACJ,MAAM;EACN,OAAO;EACP,MAAM;;AAMD,IAAM,gBAAgB;EAC3B,OAAO;EACP,OAAO;;AAMF,IAAM,eAAe;EAC1B,iBAAiB;EACjB,SAAS;;AAMJ,IAAM,qBAAqB;EAChC,QAAQ;EACR,OAAO,cAAc;EACrB,OAAO,cAAc;;AAajB,SAAU,cAAc,MAAY;AAExC,SAAO,OAAO,OAAO,kBAAkB,EAAE,KAAK,WAAU,UAAU,IAAK;AACzE;AAUM,SAAU,gBAAgB,MAAY;AAE1C,SAAO,OAAO,OAAO,aAAa,EAAE,KAAK,WAAU,UAAU,IAAK;AACpE;AAWM,SAAU,mBACZ,QAAqB,WAAsB;AAG7C,QAAM,UAAU,IAAI,MAAM,eAAe,EAAC,SAAS,MAAM,UAAU,KAAI,CAAC;AACxE,MAAI,eAA8B,CAAA;AAClC,QAAM,WAAW,CAAC,OAAa;AAC7B,mBAAe,GAAG,aAAY;EAChC;AAEA,YAAU,iBAAiB,eAAe,QAAQ;AAClD,SAAO,cAAc,OAAO;AAC5B,YAAU,oBAAoB,eAAe,QAAQ;AAErD,QAAM,cAAc,aAAa,SAAS;AAC1C,SAAO;AACT;",
  "names": []
}
