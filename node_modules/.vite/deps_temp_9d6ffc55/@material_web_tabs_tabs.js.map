{
  "version": 3,
  "sources": ["../../@material/web/tabs/internal/tabs.ts", "../../@material/web/tabs/internal/tabs-styles.css.ts", "../../@material/web/tabs/tabs.ts"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {html, isServer, LitElement, PropertyValues} from 'lit';\nimport {property, queryAssignedElements, state} from 'lit/decorators.js';\n\nimport {Tab, TabVariant} from './tab.js';\n\n// TODO(b/293506179): remove vertical logic\nconst NAVIGATION_KEYS = new Map([\n  ['default', new Set(['Home', 'End'])],\n  ['horizontal', new Set(['ArrowLeft', 'ArrowRight'])],\n  ['vertical', new Set(['ArrowUp', 'ArrowDown'])]\n]);\n\n/**\n * @fires change Fired when the selected tab changes. The target's selected or\n * selectedItem and previousSelected or previousSelectedItem provide information\n * about the selection change. The change event is fired when a user interaction\n * like a space/enter key or click cause a selection change. The tab selection\n * based on these actions can be cancelled by calling preventDefault on the\n * triggering `keydown` or `click` event.\n *\n * @example\n * // perform an action if a tab is clicked\n * tabs.addEventListener('change', (event: Event) => {\n *   if (event.target.selected === 2)\n *      takeAction();\n *   }\n * });\n *\n * // prevent a click from triggering tab selection under some condition\n * tabs.addEventListener('click', (event: Event) => {\n *   if (notReady)\n *      event.preventDefault();\n *   }\n * });\n *\n */\nexport class Tabs extends LitElement {\n  /** @nocollapse */\n  static override readonly shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true\n  };\n\n  /**\n   * Styling variant to display, 'primary' (default) or 'secondary'.\n   */\n  @property({reflect: true}) variant: TabVariant = 'primary';\n\n  /**\n   * Whether or not the item is `disabled`.\n   */\n  @property({type: Boolean}) disabled = false;\n\n  /**\n   * Index of the selected item.\n   */\n  @property({type: Number}) selected = 0;\n\n  /**\n   * Whether or not to select an item when focused.\n   */\n  @property({type: Boolean, attribute: 'select-on-focus'})\n  selectOnFocus = false;\n\n  private previousSelected = -1;\n  private readonly scrollMargin = 48;\n\n  @queryAssignedElements({selector: 'md-tab', flatten: true})\n  private readonly items!: Tab[];\n\n  // this tracks if items have changed, which triggers rendering so they can\n  // be kept in sync\n  @state() private itemsDirty = false;\n\n  private readonly selectedAttribute = `selected`;\n\n  /**\n   * The item currently selected.\n   */\n  get selectedItem() {\n    return this.items[this.selected];\n  }\n\n  /**\n   * The item previously selected.\n   */\n  get previousSelectedItem() {\n    return this.items[this.previousSelected];\n  }\n\n  /**\n   * The item currently focused.\n   */\n  protected get focusedItem() {\n    return this.items.find((el: HTMLElement) => el.matches(':focus-within'));\n  }\n\n  constructor() {\n    super();\n    if (!isServer) {\n      this.addEventListener('keydown', this.handleKeydown);\n      this.addEventListener('keyup', this.handleKeyup);\n      this.addEventListener('focusout', this.handleFocusout);\n    }\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.setAttribute('role', 'tablist');\n  }\n\n  // focus item on keydown and optionally select it\n  private readonly handleKeydown = async (event: KeyboardEvent) => {\n    const {key} = event;\n    const shouldHandleKey = NAVIGATION_KEYS.get('default')!.has(key) ||\n        NAVIGATION_KEYS.get('horizontal')!.has(key);\n    // await to after user may cancel event.\n    if (!shouldHandleKey || (await this.wasEventPrevented(event, true)) ||\n        this.disabled) {\n      return;\n    }\n    let indexToFocus = -1;\n    const focused = this.focusedItem ?? this.selectedItem;\n    const itemCount = this.items.length;\n    const isPrevKey = key === 'ArrowLeft' || key === 'ArrowUp';\n    if (key === 'Home') {\n      indexToFocus = 0;\n    } else if (key === 'End') {\n      indexToFocus = itemCount - 1;\n    } else {\n      const focusedIndex = this.items.indexOf(focused) || 0;\n      indexToFocus = focusedIndex + (isPrevKey ? -1 : 1);\n      indexToFocus =\n          indexToFocus < 0 ? itemCount - 1 : indexToFocus % itemCount;\n    }\n    const itemToFocus =\n        this.findFocusableItem(indexToFocus, key === 'End' || isPrevKey);\n    indexToFocus = this.items.indexOf(itemToFocus!);\n    if (itemToFocus !== null && itemToFocus !== focused) {\n      this.updateFocusableItem(itemToFocus);\n      itemToFocus.focus();\n      if (this.selectOnFocus) {\n        this.selected = indexToFocus;\n        await this.dispatchInteraction();\n      }\n    }\n  };\n\n  // scroll to item on keyup.\n  private readonly handleKeyup = () => {\n    this.scrollItemIntoView(this.focusedItem ?? this.selectedItem);\n  };\n\n  // restore focus to selected item when blurring.\n  private readonly handleFocusout = async () => {\n    await this.updateComplete;\n    const nowFocused =\n        (this.getRootNode() as unknown as DocumentOrShadowRoot).activeElement as\n        Tab;\n    if (this.items.indexOf(nowFocused) === -1) {\n      this.updateFocusableItem(this.selectedItem);\n    }\n  };\n\n  private findFocusableItem(i = -1, prev = false, tries = 0): Tab|null {\n    const itemCount = this.items.length - 1;\n    while (this.items[i]?.disabled && tries <= itemCount) {\n      tries++;\n      i = (i + (prev ? -1 : 1));\n      if (i > itemCount) {\n        return this.findFocusableItem(0, false, tries);\n      } else if (i < 0) {\n        return this.findFocusableItem(itemCount, true, tries);\n      }\n    }\n    return this.items[i] ?? null;\n  }\n\n  // Note, this is async to allow the event to bubble to user code, which\n  // may call `preventDefault`. If it does, avoid performing the tabs action\n  // which is selecting a new tab. Sometimes, the native event must be\n  // prevented to avoid, for example, scrolling. In this case, the event is\n  // patched to be able to detect if the user calls prevent default.\n  // Alternatively, the event could be stopped and re-dispatched synchroously,\n  // but this would be complicated since the event should be re-dispatched from\n  // the initial element to potentially trigger a native action (e.g. a history\n  // navigation via a tab label), and this could result in some listener hearing\n  // 2x events.\n  private async wasEventPrevented(event: Event, preventNativeDefault = false) {\n    if (preventNativeDefault) {\n      // prevent native default to stop, e.g. scrolling.\n      event.preventDefault();\n      // reset prevention to see if user is cancelling this action.\n      Object.defineProperties(event, {\n        'defaultPrevented': {value: false, writable: true, configurable: true},\n        'preventDefault': {\n          // Type needed for closure conformance. Using the Event type results\n          // in a type error.\n          value(this: {defaultPrevented: boolean}) {\n            this.defaultPrevented = true;\n          },\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n    // allow event to propagate to user code.\n    await new Promise(requestAnimationFrame);\n    return event.defaultPrevented;\n  }\n\n  private async dispatchInteraction() {\n    // wait for items to render.\n    await new Promise(requestAnimationFrame);\n    const event = new Event('change', {bubbles: true});\n    this.dispatchEvent(event);\n  }\n\n  protected override willUpdate(changed: PropertyValues) {\n    if (changed.has('selected')) {\n      this.previousSelected = changed.get('selected') ?? -1;\n    }\n    if (this.itemsDirty) {\n      this.itemsDirty = false;\n      this.previousSelected = -1;\n    }\n  }\n\n  protected override async updated(changed: PropertyValues) {\n    const itemsOrVariantChanged =\n        changed.has('itemsDirty') || changed.has('variant');\n    // sync state with items.\n    if (itemsOrVariantChanged || changed.has('disabled')) {\n      this.items.forEach((item, i) => {\n        item.selected = this.selected === i;\n        item.variant = this.variant;\n        item.disabled = this.disabled;\n      });\n    }\n    if (itemsOrVariantChanged || changed.has('selected')) {\n      if (this.previousSelectedItem !== this.selectedItem) {\n        this.previousSelectedItem?.removeAttribute(this.selectedAttribute);\n        this.selectedItem?.setAttribute(this.selectedAttribute, '');\n      }\n      if (this.selectedItem !== this.focusedItem) {\n        this.updateFocusableItem(this.selectedItem);\n      }\n      await this.scrollItemIntoView();\n    }\n  }\n\n  private updateFocusableItem(focusableItem: HTMLElement|null) {\n    for (const item of this.items) {\n      item.focusable = item === focusableItem;\n    }\n  }\n\n  protected override render() {\n    return html`\n      <slot @slotchange=${this.handleSlotChange} @click=${\n        this.handleItemClick}></slot>\n    `;\n  }\n\n  private async handleItemClick(event: Event) {\n    const {target} = event;\n    if (await this.wasEventPrevented(event)) {\n      return;\n    }\n    const item = (target as Element).closest(`${this.localName} > *`) as Tab;\n    const i = this.items.indexOf(item);\n    if (i > -1 && this.selected !== i) {\n      this.selected = i;\n      this.updateFocusableItem(this.selectedItem);\n      // note, Safari will not focus the button here, but if focus is manually\n      // triggered, this can match focus-visible and show the focus-ring,\n      // so avoid the temptation to cal focus!\n      await this.dispatchInteraction();\n    }\n  }\n\n  private handleSlotChange() {\n    this.itemsDirty = true;\n  }\n\n  private async itemsUpdateComplete() {\n    for (const item of this.items) {\n      await item.updateComplete;\n    }\n    return true;\n  }\n\n  // ensures the given item is visible in view; defaults to the selected item\n  private async scrollItemIntoView(item = this.selectedItem) {\n    if (!item) {\n      return;\n    }\n    // wait for items to render.\n    await this.itemsUpdateComplete();\n    // TODO(b/293506179): remove vertical logic\n    const isVertical = false;\n    const offset = isVertical ? item.offsetTop : item.offsetLeft;\n    const extent = isVertical ? item.offsetHeight : item.offsetWidth;\n    const scroll = isVertical ? this.scrollTop : this.scrollLeft;\n    const hostExtent = isVertical ? this.offsetHeight : this.offsetWidth;\n    const min = offset - this.scrollMargin;\n    const max = offset + extent - hostExtent + this.scrollMargin;\n    const to = Math.min(min, Math.max(max, scroll));\n    const behavior =\n        // type annotation because `instant` is valid but not included in type.\n        this.focusedItem !== undefined ? 'smooth' : 'instant' as ScrollBehavior;\n    this.scrollTo({\n      behavior,\n      [isVertical ? 'left' : 'top']: 0,\n      [isVertical ? 'top' : 'left']: to\n    });\n  }\n}\n", "/**\n  * @license\n  * Copyright 2022 Google LLC\n  * SPDX-License-Identifier: Apache-2.0\n  */\n import {css} from 'lit';\n export const styles = css`:host{box-sizing:border-box;display:flex;justify-content:space-between;align-items:end;overflow:auto;scroll-behavior:smooth;scrollbar-width:none;position:relative}:host([hidden]){display:none}:host([variant~=vertical]:not([hidden])){display:inline-flex;flex-direction:column;align-items:stretch;gap:0px}:host::-webkit-scrollbar{display:none}::slotted(*){flex:1}::slotted([selected]){z-index:1}/*# sourceMappingURL=tabs-styles.css.map */\n`;\n ", "/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport './tab.js';\n\nimport {customElement} from 'lit/decorators.js';\n\nimport {Tabs} from './internal/tabs.js';\nimport {styles} from './internal/tabs-styles.css.js';\n\nexport {MdTab, TabVariant} from './tab.js';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'md-tabs': MdTabs;\n  }\n}\n\n// TODO(b/267336507): add docs\n/**\n * @summary Tabs displays a list of selectable tabs.\n *\n */\n@customElement('md-tabs')\nexport class MdTabs extends Tabs {\n  static override styles = [styles];\n}\n"],
  "mappings": "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",
  "names": ["MdTabs"]
}
